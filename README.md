# payment-architecture

# 구조
## dto 패키지 실험 단계
- 각 레이어별 dto, 각 레이어로 들어가거나 나올 때에 사용, 그 외의 다른 레이어에 침범 X

## DTO
- 서비스 DTO
  - command와 result
- 컨트롤러 DTO
  - request와 response

기능 TODO
1. 빌링 등록, 결제
   2. 빌링 히스토리, 장부? 등록
   3. 빌링 상태 제어
4. 빌링 결제 취소
5. 간편 결제
   6. 히스토리, 장부? 등록
   7. 간편 결제 상태 제어
8. 간편 결제 취소
8. 타임아웃 제어
   9. 성공 실패 알 수 없음
10. 구독 연체에 대해
11. API 문서화


TODO

2. 다른 pg사 추가
3. 구독, invoice에서 기간을 어떻게 처리할지. 뺄지말지
4. 구독은 그렇다 쳐도, 선결제는 연속된 요청 방어
5. 취소는 연속된 요청을 어떻게 처리할 것인가. 주문 중 상품을 여러개 나눠서 취소할 수 있다. 요청이 완료되기 전에?
6. 주문과 결제 수단, 결제 수단도 1:1, 혹은 1:N 고려 포인트
